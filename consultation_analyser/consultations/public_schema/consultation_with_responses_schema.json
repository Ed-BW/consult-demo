{"$defs": {"Answer": {"description": "Each Answer is associated with a Question and belongs to a ConsultationResponse.", "properties": {"question_id": {"description": "The ID of the question", "format": "uuid", "title": "Question Id", "type": "string"}, "multiple_choice": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "default": null, "description": "Responses to the multiple choice part of the question, if any", "examples": [["No"]], "title": "Multiple Choice"}, "free_text": {"description": "The answer to the free text part of the question, if any", "examples": ["I don't think this is a good idea at all", "I would like to point out a few things", "I would like clarification on a few key points"], "title": "Free Text", "type": "string"}}, "required": ["question_id", "free_text"], "title": "Answer", "type": "object"}, "Consultation": {"additionalProperties": false, "description": "Consultation is the top-level object describing a consultation. It contains one or more Sections, which in turn contain Questions.", "properties": {"name": {"description": "The name of the consultation", "examples": ["Consultation on Kit Kats", "How should Kit Kats change", "What shall we do about Kit Kats"], "title": "Name", "type": "string"}, "sections": {"description": "The sections of the consultation", "items": {"$ref": "#/$defs/Section"}, "minItems": 1, "title": "Sections", "type": "array"}}, "required": ["name", "sections"], "title": "Consultation", "type": "object"}, "ConsultationResponse": {"description": "A ConsultationResponse groups answers. For now it is also a placeholder for response-level information such as demographics, responding-in-the-capacity-of, etc.", "properties": {"id": {"description": "The ID of the response", "format": "uuid", "title": "Id", "type": "string"}, "submitted_at": {"description": "The submission date and time of the response", "format": "date-time", "title": "Submitted At", "type": "string"}, "answers": {"description": "The answers in this response", "items": {"$ref": "#/$defs/Answer"}, "minItems": 1, "title": "Answers", "type": "array"}}, "required": ["id", "submitted_at", "answers"], "title": "ConsultationResponse", "type": "object"}, "Question": {"description": "Questions can be free text, multiple choice or both. The presence of multiple_choice_options implies that the question has a multiple choice part.", "properties": {"id": {"description": "The ID of this question", "format": "uuid", "title": "Id", "type": "string"}, "text": {"description": "The question text", "examples": ["Should it happen on Tuesdays?", "Should it happen in the month of May?", "Should it happen on a full moon?", "Should it happen on Fridays?", "Should it be forbidden on Sunday?"], "title": "Text", "type": "string"}, "has_free_text": {"description": "Does this question have a free text component?", "title": "Has Free Text", "type": "boolean"}, "multiple_choice_options": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "default": null, "description": "The options for the multiple choice part of this question, if it has a multiple choice component", "examples": [["Yes", "No", "I don't know"]], "title": "Multiple Choice Options"}}, "required": ["id", "text", "has_free_text"], "title": "Question", "type": "object"}, "Section": {"description": "A Section contains a group of Questions. Consultations that do not have multiple sections should group all Questions under a single Section.", "properties": {"id": {"description": "The ID of the section", "format": "uuid", "title": "Id", "type": "string"}, "name": {"description": "The name of the section", "examples": ["When to enforce a Kit Kat ban", "When to encourage the eating of Kit Kats", "When Kit Kats are consumed"], "title": "Name", "type": "string"}, "questions": {"description": "The questions in the consultation", "items": {"$ref": "#/$defs/Question"}, "minItems": 1, "title": "Questions", "type": "array"}}, "required": ["id", "name", "questions"], "title": "Section", "type": "object"}}, "description": "A Consultation and its ConsultationResponses", "properties": {"consultation": {"allOf": [{"$ref": "#/$defs/Consultation"}], "description": "The consultation"}, "consultation_responses": {"description": "The responses", "items": {"$ref": "#/$defs/ConsultationResponse"}, "minItems": 1, "title": "Consultation Responses", "type": "array"}}, "required": ["consultation", "consultation_responses"], "title": "ConsultationWithResponses", "type": "object"}